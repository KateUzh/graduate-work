# üìã –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ —Ç–µ—Å—Ç–∞–º –ø—Ä–æ–µ–∫—Ç–∞

## üìä –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏:
- **–í—Å–µ–≥–æ —Ç–µ—Å—Ç–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤:** 17
---

## üóÇÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤

### 1. Service Layer (‚úÖ 100% –ø–æ–∫—Ä—ã—Ç–∏–µ)

#### UserServiceTest
**–§–∞–π–ª:** `src/test/java/ru/skypro/homework/service/UserServiceTest.java`
**–¢–µ—Å—Ç–æ–≤:** 14

**–ü–æ–∫—Ä—ã—Ç–∏–µ:**
- ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ –°–º–µ–Ω–∞ –ø–∞—Ä–æ–ª—è
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ (401, 400)

---

#### AdServiceTest
**–§–∞–π–ª:** `src/test/java/ru/skypro/homework/service/AdServiceTest.java`
**–¢–µ—Å—Ç–æ–≤:** 23

**–ü–æ–∫—Ä—ã—Ç–∏–µ:**
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è —Å/–±–µ–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –æ–±—ä—è–≤–ª–µ–Ω–∏–π
- ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è –ø–æ ID
- ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è (–≤–ª–∞–¥–µ–ª–µ—Ü/–∞–¥–º–∏–Ω)
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ–±—ä—è–≤–ª–µ–Ω–∏—è
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ (403)

---

#### AuthServiceTest
**–§–∞–π–ª:** `src/test/java/ru/skypro/homework/service/AuthServiceTest.java`
**–¢–µ—Å—Ç–æ–≤:** 14

**–ü–æ–∫—Ä—ã—Ç–∏–µ:**
- ‚úÖ –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (login)
- ‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è (register)
- ‚úÖ –ö–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ä–æ–ª–µ–π (USER/ADMIN)
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

---

#### CommentServiceTest
**–§–∞–π–ª:** `src/test/java/ru/skypro/homework/service/CommentServiceTest.java`
**–¢–µ—Å—Ç–æ–≤:** 16

**–ü–æ–∫—Ä—ã—Ç–∏–µ:**
- ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –æ–±—ä—è–≤–ª–µ–Ω–∏—è
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è
- ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è (–≤–ª–∞–¥–µ–ª–µ—Ü/–∞–¥–º–∏–Ω)
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ (404, 403)

---

#### ImageServiceTest
**–§–∞–π–ª:** `src/test/java/ru/skypro/homework/service/ImageServiceTest.java`
**–¢–µ—Å—Ç–æ–≤:** 8

**–ü–æ–∫—Ä—ã—Ç–∏–µ:**
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ–±—ä—è–≤–ª–µ–Ω–∏—è
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ–±—ä—è–≤–ª–µ–Ω–∏—è
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ (JPEG, PNG)
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

---

#### MyUserDetailsServiceTest
**–§–∞–π–ª:** `src/test/java/ru/skypro/homework/service/MyUserDetailsServiceTest.java`
**–¢–µ—Å—Ç–æ–≤:** 5

**–ü–æ–∫—Ä—ã—Ç–∏–µ:**
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ email
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å —Ä–æ–ª—å—é ADMIN
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω)
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ authorities

---

### 2. Mapper Layer (‚úÖ 100% –ø–æ–∫—Ä—ã—Ç–∏–µ)

#### UserMapperTest
**–§–∞–π–ª:** `src/test/java/ru/skypro/homework/mapper/UserMapperTest.java`
**–¢–µ—Å—Ç–æ–≤:** 15

**–ü–æ–∫—Ä—ã—Ç–∏–µ:**
- ‚úÖ Entity ‚Üí DTO –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ
- ‚úÖ DTO ‚Üí Entity –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Entity –∏–∑ DTO
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ Entity –∏–∑ Register DTO
- ‚úÖ –ú–∞–ø–ø–∏–Ω–≥ —Ä–æ–ª–µ–π
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º

---

#### AdMapperTest
**–§–∞–π–ª:** `src/test/java/ru/skypro/homework/mapper/AdMapperTest.java`
**–¢–µ—Å—Ç–æ–≤:** 16

**–ü–æ–∫—Ä—ã—Ç–∏–µ:**
- ‚úÖ Entity ‚Üí Ad –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ
- ‚úÖ Entity ‚Üí ExtendedAd –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ
- ‚úÖ CreateOrUpdateAd ‚Üí Entity
- ‚úÖ –ú–∞–ø–ø–∏–Ω–≥ pk ‚Üî id
- ‚úÖ –ú–∞–ø–ø–∏–Ω–≥ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± –∞–≤—Ç–æ—Ä–µ

---

#### CommentMapperTest
**–§–∞–π–ª:** `src/test/java/ru/skypro/homework/mapper/CommentMapperTest.java`
**–¢–µ—Å—Ç–æ–≤:** 14

**–ü–æ–∫—Ä—ã—Ç–∏–µ:**
- ‚úÖ Entity ‚Üí Comment –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ
- ‚úÖ Comment ‚Üí Entity –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ
- ‚úÖ CreateOrUpdateComment ‚Üí Entity
- ‚úÖ –ú–∞–ø–ø–∏–Ω–≥ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± –∞–≤—Ç–æ—Ä–µ
- ‚úÖ –ú–∞–ø–ø–∏–Ω–≥ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –º–µ—Ç–æ–∫

---

### 3. Repository Layer (‚ö†Ô∏è —á–∞—Å—Ç–∏—á–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ)

#### UserRepositoryTest
**–§–∞–π–ª:** `src/test/java/ru/skypro/homework/repository/UserRepositoryTest.java`

**–ü–æ–∫—Ä—ã—Ç–∏–µ:**
- ‚úÖ –ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ email
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏ email

---

#### AdRepositoryTest
**–§–∞–π–ª:** `src/test/java/ru/skypro/homework/repository/AdRepositoryTest.java`

**–ü–æ–∫—Ä—ã—Ç–∏–µ:**
- ‚úÖ –ü–æ–∏—Å–∫ –≤—Å–µ—Ö –æ–±—ä—è–≤–ª–µ–Ω–∏–π
- ‚úÖ –ü–æ–∏—Å–∫ –æ–±—ä—è–≤–ª–µ–Ω–∏–π –ø–æ –∞–≤—Ç–æ—Ä—É
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è

---

#### CommentRepositoryTest
**–§–∞–π–ª:** `src/test/java/ru/skypro/homework/repository/CommentRepositoryTest.java`

**–ü–æ–∫—Ä—ã—Ç–∏–µ:**
- ‚úÖ –ü–æ–∏—Å–∫ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –ø–æ –æ–±—ä—è–≤–ª–µ–Ω–∏—é
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è
- ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è

---

### 4. Controller Layer (‚úÖ —á–∞—Å—Ç–∏—á–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ)

#### ImageControllerTest ‚≠ê –ù–û–í–´–ô
**–§–∞–π–ª:** `src/test/java/ru/skypro/homework/controller/ImageControllerTest.java`
**–¢–µ—Å—Ç–æ–≤:** ~15

**–ü–æ–∫—Ä—ã—Ç–∏–µ:**
- ‚úÖ GET /images/users/{filename}
- ‚úÖ GET /images/ads/{filename}
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–æ—Ä–º–∞—Ç–æ–≤ (JPEG, PNG, GIF)
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ (404, 500)
- ‚úÖ CORS –∑–∞–≥–æ–ª–æ–≤–∫–∏
- ‚úÖ –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –±–µ–∑ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

---

### 5. Filter Layer (‚úÖ 100% –ø–æ–∫—Ä—ã—Ç–∏–µ)

#### BasicAuthCorsFilterTest ‚≠ê –ù–û–í–´–ô
**–§–∞–π–ª:** `src/test/java/ru/skypro/homework/filter/BasicAuthCorsFilterTest.java`
**–¢–µ—Å—Ç–æ–≤:** ~10

**–ü–æ–∫—Ä—ã—Ç–∏–µ:**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–∞ Access-Control-Allow-Credentials
- ‚úÖ –†–∞–±–æ—Ç–∞ —Å–æ –≤—Å–µ–º–∏ HTTP –º–µ—Ç–æ–¥–∞–º–∏
- ‚úÖ –†–∞–±–æ—Ç–∞ —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ URL
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤
- ‚úÖ –í—ã–∑–æ–≤ —Å–ª–µ–¥—É—é—â–µ–≥–æ —Ñ–∏–ª—å—Ç—Ä–∞ –≤ —Ü–µ–ø–æ—á–∫–µ

---

### 6. Config Layer (‚úÖ —á–∞—Å—Ç–∏—á–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ)

#### WebSecurityConfigTest
**–§–∞–π–ª:** `src/test/java/ru/skypro/homework/config/WebSecurityConfigTest.java`
**–¢–µ—Å—Ç–æ–≤:** 31

**–ü–æ–∫—Ä—ã—Ç–∏–µ:**
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –±–∏–Ω–æ–≤
- ‚úÖ CORS –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- ‚úÖ –ü—É–±–ª–∏—á–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
- ‚úÖ –ó–∞—â–∏—â–µ–Ω–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
- ‚úÖ CSRF –æ—Ç–∫–ª—é—á–µ–Ω
- ‚úÖ HTTP Basic –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

---

#### WebSecurityConfigUnitTest
**–§–∞–π–ª:** `src/test/java/ru/skypro/homework/config/WebSecurityConfigUnitTest.java`
**–¢–µ—Å—Ç–æ–≤:** 25

**–ü–æ–∫—Ä—ã—Ç–∏–µ:**
- ‚úÖ Unit-—Ç–µ—Å—Ç—ã –±–µ–∑ Spring –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
- ‚úÖ PasswordEncoder (BCrypt)
- ‚úÖ CORS –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–µ—Ç–∞–ª—å–Ω–æ
- ‚úÖ AUTH_WHITELIST –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞

---

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

### –¢–µ—Å—Ç–æ–≤—ã–µ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∏
- **JUnit 5** - –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- **Mockito** - —Å–æ–∑–¥–∞–Ω–∏–µ –º–æ–∫–æ–≤ –∏ —Å—Ç–∞–±–æ–≤
- **AssertJ** - fluent assertions –¥–ª—è —á–∏—Ç–∞–µ–º—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫
- **Spring Boot Test** - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
- **MockMvc** - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ HTTP –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤
- **H2 Database** - in-memory –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ç–µ—Å—Ç–æ–≤

## üéØ –°—Ç–∞—Ç—É—Å –ø–æ–∫—Ä—ã—Ç–∏—è

### ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–∫—Ä—ã—Ç–æ
- UserService
- AdService
- AuthService
- CommentService
- ImageService
- MyUserDetailsService
- UserMapper
- AdMapper
- CommentMapper
- BasicAuthCorsFilter
- WebSecurityConfig

**–í–µ—Ä—Å–∏—è:** 2.0
**–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** 05.02.2026
**–ê–≤—Ç–æ—Ä:** –ö–æ–º–∞–Ω–¥–∞ ¬´–£–ø—Ä—è–º—ã–µ¬ª
